---
// PolicyModal.astro - Modal component for displaying legal policies
---

<!-- Policy Modal -->
<div id="policy-modal" class="fixed inset-0 z-50 hidden">
  <!-- Backdrop -->
  <div id="policy-backdrop" class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>

  <!-- Modal Content -->
  <div class="absolute inset-0 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[85vh] flex flex-col relative">
      <!-- Header -->
      <div class="flex items-center justify-between p-6 border-b border-gray-200">
        <h2 id="policy-title" class="text-2xl font-semibold text-gray-900"></h2>
        <button id="policy-close" class="text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <!-- Body -->
      <div id="policy-content" class="p-6 overflow-y-auto flex-1 prose prose-gray max-w-none">
        <!-- Content will be injected here -->
      </div>

      <!-- Footer -->
      <div class="p-4 border-t border-gray-200 flex justify-end">
        <button id="policy-accept" class="bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Hidden Policy Content -->
<template id="terms-content">
  <p class="text-sm text-gray-500 mb-4">Last updated: February 2026</p>

  <h3>1. Acceptance of Terms</h3>
  <p>By accessing and using the GetRaze platform ("Service"), you agree to be bound by these Terms of Use. If you do not agree with any part of these terms, do not use the Service. Continued use of the platform after changes to the terms constitutes your acceptance of the modifications.</p>

  <h3>2. Description of Service</h3>
  <p>GetRaze is an artificial intelligence platform for multichannel prospecting and engagement. The Service provides tools for lead search, outreach automation across multiple channels (LinkedIn, email, among others), and prospect relationship management, using AI agents to optimize the sales process.</p>

  <h3>3. Intermediary Nature</h3>
  <p>GetRaze acts exclusively as an intermediary between you and the official services of integrated platforms (such as LinkedIn, Meta, among others). We DO NOT store data from these social networks on our servers. All actions performed through GetRaze are executed through the official APIs and interfaces of these services, respecting their terms of use and policies.</p>

  <h3>4. User Accounts</h3>
  <p>To use the Service, you must create an account providing accurate and up-to-date information. You are responsible for:</p>
  <ul>
    <li>Maintaining the security of your password and access credentials</li>
    <li>All activities carried out under your account</li>
    <li>Immediately notifying GetRaze of any unauthorized use</li>
    <li>Keeping your account information up to date</li>
  </ul>

  <h3>5. Acceptable Use</h3>
  <p>You agree NOT to use the Service to:</p>
  <ul>
    <li>Violate any applicable laws or regulations</li>
    <li>Send spam or unsolicited mass communications</li>
    <li>Collect personal information without proper legal basis</li>
    <li>Interfere with or disrupt the operation of the Service</li>
    <li>Attempt to gain unauthorized access to any part of the Service</li>
    <li>Use the Service for illegal or unauthorized purposes</li>
    <li>Violate the terms of use of integrated platforms (LinkedIn, Meta, etc.)</li>
  </ul>

  <h3>6. Credits and Subscription</h3>
  <p>The Service operates on a credit and subscription plan system. Credit limits and features included in each plan may change periodically. We will notify you of significant changes with reasonable advance notice. All payments are processed securely by our payment providers.</p>

  <h3>7. No Lock-in</h3>
  <p>GetRaze does NOT require loyalty or minimum commitment. You may cancel your subscription at any time, without fines or penalties. After cancellation, your access to the Service will remain active until the end of the already paid period.</p>

  <h3>8. Intellectual Property</h3>
  <p>The Service, including its original content, features, technology, and design, is the exclusive property of GetRaze and its licensors. The Service is protected by copyright, trademark, and other intellectual property laws.</p>

  <h3>9. Limitation of Liability</h3>
  <p>GetRaze shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or other intangible losses resulting from the use or inability to use the Service. GetRaze is not responsible for actions taken by integrated platforms (such as LinkedIn account restrictions) as a result of using the Service.</p>

  <h3>10. Termination</h3>
  <p>We may suspend or terminate your access to the Service immediately, without prior notice, in case of violation of these Terms. You may also close your account at any time. After termination, your data will be retained for 30 days and then permanently deleted.</p>

  <h3>11. Changes to Terms</h3>
  <p>We reserve the right to modify these Terms at any time. Significant changes will be communicated through the platform. Continued use of the Service after changes constitutes your acceptance of the new terms.</p>

  <h3>12. Governing Law</h3>
  <p>These Terms are governed by the laws of the Federative Republic of Brazil, including the General Data Protection Law (LGPD - Law No. 13,709/2018). Any disputes shall be submitted to the jurisdiction of the courts at GetRaze's headquarters.</p>

  <h3>13. Contact</h3>
  <p>For questions about these Terms, please contact us at legal@getraze.co.</p>
</template>

<template id="privacy-content">
  <p class="text-sm text-gray-500 mb-4">Last updated: February 2026</p>

  <h3>1. Introduction</h3>
  <p>GetRaze ("we") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and protect your information when you use our platform, in compliance with the Brazilian General Data Protection Law (LGPD).</p>

  <h3>2. Data We Collect</h3>
  <p>We collect the following types of data:</p>

  <h4>Account Data</h4>
  <ul>
    <li>Name and email address</li>
    <li>Access credentials (encrypted password)</li>
    <li>Company information</li>
    <li>Billing and payment data</li>
  </ul>

  <h4>Usage Data</h4>
  <ul>
    <li>Access logs (IP address, browser type)</li>
    <li>Device information</li>
    <li>Platform usage patterns and preferences</li>
    <li>Activity logs for audit purposes</li>
  </ul>

  <h3>3. What We Do NOT Collect</h3>
  <p>GetRaze acts as an intermediary for the official services of integrated platforms. We DO NOT store on our servers:</p>
  <ul>
    <li>Third-party social media profile data</li>
    <li>Messages or conversations from external platforms</li>
    <li>Third-party social media access credentials</li>
    <li>Personal data of leads or prospects outside the platform context</li>
  </ul>
  <p>All interactions with external platforms are carried out in real time through secure and authorized connections, without permanent retention of this data.</p>

  <h3>4. How We Use Your Data</h3>
  <p>We use collected information to:</p>
  <ul>
    <li>Provide and maintain the Service</li>
    <li>Process transactions and send related information</li>
    <li>Send administrative communications and Service updates</li>
    <li>Respond to support requests</li>
    <li>Improve and personalize the user experience</li>
    <li>Analyze usage to enhance the Service</li>
    <li>Protect against fraudulent or illegal activities</li>
  </ul>

  <h3>5. Data Security</h3>
  <p>We implement robust technical and organizational measures to protect your personal information. Our infrastructure holds SOC 2 Type II certification and complies with GDPR (European General Data Protection Regulation), ensuring the highest standards of security and data protection.</p>

  <h3>6. Data Sharing</h3>
  <p>We may share your information only with:</p>
  <ul>
    <li>Essential service providers for platform operations (payment processing, hosting)</li>
    <li>Legal authorities when required by law</li>
    <li>Business partners, only with your explicit consent</li>
  </ul>
  <p>We never sell your personal data to third parties.</p>

  <h3>7. Data Retention</h3>
  <p>We retain your personal information for as long as necessary to fulfill the purposes described in this Policy. After account cancellation, your data will be kept for 30 days for possible reactivation and then permanently deleted.</p>

  <h3>8. Your Rights (LGPD)</h3>
  <p>Under the General Data Protection Law, you have the right to:</p>
  <ul>
    <li>Confirmation of the existence of data processing</li>
    <li>Access to your personal data</li>
    <li>Correction of incomplete, inaccurate, or outdated data</li>
    <li>Anonymization, blocking, or deletion of unnecessary data</li>
    <li>Data portability to another provider</li>
    <li>Deletion of data processed with your consent</li>
    <li>Information about data sharing</li>
    <li>Withdrawal of consent at any time</li>
  </ul>
  <p>To exercise any of these rights, please contact us at privacy@getraze.co.</p>

  <h3>9. International Transfers</h3>
  <p>Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place for such transfers, in compliance with LGPD and applicable international regulations.</p>

  <h3>10. Cookies</h3>
  <p>We use cookies and similar technologies to keep your session active, remember your preferences, and improve the platform experience. You can manage cookie settings in your browser.</p>

  <h3>11. Children's Privacy</h3>
  <p>The Service is not intended for individuals under 18 years of age. We do not knowingly collect personal data from minors.</p>

  <h3>12. Changes to This Policy</h3>
  <p>We may update this Privacy Policy periodically. Significant changes will be communicated through the platform and you will be asked to accept the updated version.</p>

  <h3>13. Contact</h3>
  <p>For questions about this Privacy Policy or to exercise your rights, please contact us:</p>
  <ul>
    <li>General email: legal@getraze.co</li>
    <li>Privacy and data: privacy@getraze.co</li>
  </ul>
</template>

<template id="cookies-content">
  <p class="text-sm text-gray-500 mb-4">Last updated: February 2026</p>

  <h3>1. What Are Cookies</h3>
  <p>Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to website owners.</p>

  <h3>2. How We Use Cookies</h3>
  <p>GetRaze uses cookies and similar tracking technologies to:</p>
  <ul>
    <li>Keep you signed in to your account</li>
    <li>Remember your preferences and settings</li>
    <li>Understand how you use our Service</li>
    <li>Improve our Service based on this information</li>
    <li>Provide personalized content and features</li>
  </ul>

  <h3>3. Types of Cookies We Use</h3>

  <h4>Essential Cookies</h4>
  <p>These cookies are necessary for the website to function properly. They enable basic features like page navigation and access to secure areas. The website cannot function properly without these cookies.</p>

  <h4>Performance Cookies</h4>
  <p>These cookies help us understand how visitors interact with our website by collecting and reporting information anonymously. They help us improve how the website works.</p>

  <h4>Functional Cookies</h4>
  <p>These cookies enable the website to provide enhanced functionality and personalization. They may be set by us or by third-party providers whose services we have added to our pages.</p>

  <h4>Analytics Cookies</h4>
  <p>We use analytics cookies to track information about how the Service is used so that we can make improvements. We may also use analytics cookies to test new features and how they perform.</p>

  <h3>4. Third-Party Cookies</h3>
  <p>Some cookies may be placed by third-party services that appear on our pages. We do not control these third-party cookies. The third-party service providers are responsible for their cookies.</p>

  <h3>5. Managing Cookies</h3>
  <p>Most web browsers allow you to control cookies through their settings. You can:</p>
  <ul>
    <li>View cookies stored on your device</li>
    <li>Allow, block, or delete cookies</li>
    <li>Set preferences for certain websites</li>
    <li>Block third-party cookies</li>
  </ul>
  <p>Please note that blocking certain cookies may impact your experience on our website and limit the services we can offer.</p>

  <h3>6. Cookie Consent</h3>
  <p>When you first visit our website, you will be presented with a cookie consent banner. By continuing to use our website, you consent to our use of cookies as described in this policy.</p>

  <h3>7. Changes to This Policy</h3>
  <p>We may update this Cookie Policy from time to time to reflect changes in our practices or for other operational, legal, or regulatory reasons. Please revisit this page regularly to stay informed about our use of cookies.</p>

  <h3>8. Contact Us</h3>
  <p>If you have any questions about our use of cookies, please contact us at privacy@getraze.co.</p>
</template>

<script>
  function initPolicyModal() {
    const modal = document.getElementById('policy-modal');
    const backdrop = document.getElementById('policy-backdrop');
    const closeBtn = document.getElementById('policy-close');
    const acceptBtn = document.getElementById('policy-accept');
    const titleEl = document.getElementById('policy-title');
    const contentEl = document.getElementById('policy-content');

    if (!modal || !backdrop || !closeBtn || !acceptBtn || !titleEl || !contentEl) return;

    const policies = {
      terms: {
        title: 'Terms of Service',
        template: 'terms-content'
      },
      privacy: {
        title: 'Privacy Policy',
        template: 'privacy-content'
      },
      cookies: {
        title: 'Cookie Policy',
        template: 'cookies-content'
      }
    };

    function openModal(policyType: keyof typeof policies) {
      const policy = policies[policyType];
      if (!policy) return;

      const template = document.getElementById(policy.template) as HTMLTemplateElement;
      if (!template) return;

      titleEl.textContent = policy.title;
      contentEl.innerHTML = template.innerHTML;
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      modal.classList.add('hidden');
      document.body.style.overflow = '';
    }

    // Close modal handlers
    closeBtn.addEventListener('click', closeModal);
    acceptBtn.addEventListener('click', closeModal);
    backdrop.addEventListener('click', closeModal);

    // Close on escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
        closeModal();
      }
    });

    // Listen for custom events to open modal
    window.addEventListener('openPolicy', ((e: CustomEvent) => {
      openModal(e.detail as keyof typeof policies);
    }) as EventListener);

    // Intercept clicks on policy links
    document.querySelectorAll('a[href="/terms"], a[href="/privacy"], a[href="/cookies"]').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const href = (e.currentTarget as HTMLAnchorElement).getAttribute('href');
        if (href === '/terms') openModal('terms');
        else if (href === '/privacy') openModal('privacy');
        else if (href === '/cookies') openModal('cookies');
      });
    });
  }

  // Initialize on DOM load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPolicyModal);
  } else {
    initPolicyModal();
  }
</script>

<style>
  #policy-modal {
    animation: fadeIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  #policy-content h3 {
    @apply text-lg font-semibold text-gray-900 mt-6 mb-3;
  }

  #policy-content h4 {
    @apply text-base font-medium text-gray-800 mt-4 mb-2;
  }

  #policy-content p {
    @apply text-gray-600 mb-3 leading-relaxed;
  }

  #policy-content ul {
    @apply list-disc list-inside text-gray-600 mb-4 space-y-1;
  }

  #policy-content li {
    @apply leading-relaxed;
  }
</style>
